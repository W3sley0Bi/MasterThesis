/**
 * Minified by jsDelivr using Terser v5.15.1.
 * Original file: /npm/graphology-layout-forceatlas2@0.10.1/webworker.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
module.exports=function(){var t,o,a,r={};a=10,r.exports=function(t,o,r){var i,n,e,s,h,M,f,u,l,b,g,w,d,p,c,q,m,D,v,A,x,k,y,H=o.length,R=r.length,z=t.adjustSizes,L=t.barnesHutTheta*t.barnesHutTheta,F=[];for(e=0;e<H;e+=a)o[e+4]=o[e+2],o[e+5]=o[e+3],o[e+2]=0,o[e+3]=0;if(t.outboundAttractionDistribution){for(g=0,e=0;e<H;e+=a)g+=o[e+6];g/=H/a}if(t.barnesHutOptimize){var O,T,j,E=1/0,G=-1/0,I=1/0,S=-1/0;for(e=0;e<H;e+=a)E=Math.min(E,o[e+0]),G=Math.max(G,o[e+0]),I=Math.min(I,o[e+1]),S=Math.max(S,o[e+1]);var W=G-E,B=S-I;for(W>B?S=(I-=(W-B)/2)+W:G=(E-=(B-W)/2)+B,F[0]=-1,F[1]=(E+G)/2,F[2]=(I+S)/2,F[3]=Math.max(G-E,S-I),F[4]=-1,F[5]=-1,F[6]=0,F[7]=0,F[8]=0,i=1,e=0;e<H;e+=a)for(n=0,j=3;;){if(!(F[n+5]>=0)){if(F[n+0]<0){F[n+0]=e;break}if(F[n+5]=9*i,u=F[n+3]/2,F[(l=F[n+5])+0]=-1,F[l+1]=F[n+1]-u,F[l+2]=F[n+2]-u,F[l+3]=u,F[l+4]=l+9,F[l+5]=-1,F[l+6]=0,F[l+7]=0,F[l+8]=0,F[(l+=9)+0]=-1,F[l+1]=F[n+1]-u,F[l+2]=F[n+2]+u,F[l+3]=u,F[l+4]=l+9,F[l+5]=-1,F[l+6]=0,F[l+7]=0,F[l+8]=0,F[(l+=9)+0]=-1,F[l+1]=F[n+1]+u,F[l+2]=F[n+2]-u,F[l+3]=u,F[l+4]=l+9,F[l+5]=-1,F[l+6]=0,F[l+7]=0,F[l+8]=0,F[(l+=9)+0]=-1,F[l+1]=F[n+1]+u,F[l+2]=F[n+2]+u,F[l+3]=u,F[l+4]=F[n+4],F[l+5]=-1,F[l+6]=0,F[l+7]=0,F[l+8]=0,i+=4,O=o[F[n+0]+0]<F[n+1]?o[F[n+0]+1]<F[n+2]?F[n+5]:F[n+5]+9:o[F[n+0]+1]<F[n+2]?F[n+5]+18:F[n+5]+27,F[n+6]=o[F[n+0]+6],F[n+7]=o[F[n+0]+0],F[n+8]=o[F[n+0]+1],F[O+0]=F[n+0],F[n+0]=-1,O===(T=o[e+0]<F[n+1]?o[e+1]<F[n+2]?F[n+5]:F[n+5]+9:o[e+1]<F[n+2]?F[n+5]+18:F[n+5]+27)){if(j--){n=O;continue}j=3;break}F[T+0]=e;break}O=o[e+0]<F[n+1]?o[e+1]<F[n+2]?F[n+5]:F[n+5]+9:o[e+1]<F[n+2]?F[n+5]+18:F[n+5]+27,F[n+7]=(F[n+7]*F[n+6]+o[e+0]*o[e+6])/(F[n+6]+o[e+6]),F[n+8]=(F[n+8]*F[n+6]+o[e+1]*o[e+6])/(F[n+6]+o[e+6]),F[n+6]+=o[e+6],n=O}}if(t.barnesHutOptimize){for(w=t.scalingRatio,e=0;e<H;e+=a)for(n=0;;)if(F[n+5]>=0){if(q=Math.pow(o[e+0]-F[n+7],2)+Math.pow(o[e+1]-F[n+8],2),4*(b=F[n+3])*b/q<L){if(d=o[e+0]-F[n+7],p=o[e+1]-F[n+8],!0===z?q>0?(m=w*o[e+6]*F[n+6]/q,o[e+2]+=d*m,o[e+3]+=p*m):q<0&&(m=-w*o[e+6]*F[n+6]/Math.sqrt(q),o[e+2]+=d*m,o[e+3]+=p*m):q>0&&(m=w*o[e+6]*F[n+6]/q,o[e+2]+=d*m,o[e+3]+=p*m),(n=F[n+4])<0)break;continue}n=F[n+5]}else if((M=F[n+0])>=0&&M!==e&&(q=(d=o[e+0]-o[M+0])*d+(p=o[e+1]-o[M+1])*p,!0===z?q>0?(m=w*o[e+6]*o[M+6]/q,o[e+2]+=d*m,o[e+3]+=p*m):q<0&&(m=-w*o[e+6]*o[M+6]/Math.sqrt(q),o[e+2]+=d*m,o[e+3]+=p*m):q>0&&(m=w*o[e+6]*o[M+6]/q,o[e+2]+=d*m,o[e+3]+=p*m)),(n=F[n+4])<0)break}else for(w=t.scalingRatio,s=0;s<H;s+=a)for(h=0;h<s;h+=a)d=o[s+0]-o[h+0],p=o[s+1]-o[h+1],!0===z?(q=Math.sqrt(d*d+p*p)-o[s+8]-o[h+8])>0?(m=w*o[s+6]*o[h+6]/q/q,o[s+2]+=d*m,o[s+3]+=p*m,o[h+2]-=d*m,o[h+3]-=p*m):q<0&&(m=100*w*o[s+6]*o[h+6],o[s+2]+=d*m,o[s+3]+=p*m,o[h+2]-=d*m,o[h+3]-=p*m):(q=Math.sqrt(d*d+p*p))>0&&(m=w*o[s+6]*o[h+6]/q/q,o[s+2]+=d*m,o[s+3]+=p*m,o[h+2]-=d*m,o[h+3]-=p*m);for(l=t.gravity/t.scalingRatio,w=t.scalingRatio,e=0;e<H;e+=a)m=0,d=o[e+0],p=o[e+1],q=Math.sqrt(Math.pow(d,2)+Math.pow(p,2)),t.strongGravityMode?q>0&&(m=w*o[e+6]*l):q>0&&(m=w*o[e+6]*l/q),o[e+2]-=d*m,o[e+3]-=p*m;for(w=1*(t.outboundAttractionDistribution?g:1),f=0;f<R;f+=3)s=r[f+0],h=r[f+1],u=r[f+2],c=Math.pow(u,t.edgeWeightInfluence),d=o[s+0]-o[h+0],p=o[s+1]-o[h+1],!0===z?(q=Math.sqrt(d*d+p*p)-o[s+8]-o[h+8],t.linLogMode?t.outboundAttractionDistribution?q>0&&(m=-w*c*Math.log(1+q)/q/o[s+6]):q>0&&(m=-w*c*Math.log(1+q)/q):t.outboundAttractionDistribution?q>0&&(m=-w*c/o[s+6]):q>0&&(m=-w*c)):(q=Math.sqrt(Math.pow(d,2)+Math.pow(p,2)),t.linLogMode?t.outboundAttractionDistribution?q>0&&(m=-w*c*Math.log(1+q)/q/o[s+6]):q>0&&(m=-w*c*Math.log(1+q)/q):t.outboundAttractionDistribution?(q=1,m=-w*c/o[s+6]):(q=1,m=-w*c)),q>0&&(o[s+2]+=d*m,o[s+3]+=p*m,o[h+2]-=d*m,o[h+3]-=p*m);if(!0===z)for(e=0;e<H;e+=a)1!==o[e+9]&&((D=Math.sqrt(Math.pow(o[e+2],2)+Math.pow(o[e+3],2)))>10&&(o[e+2]=10*o[e+2]/D,o[e+3]=10*o[e+3]/D),v=o[e+6]*Math.sqrt((o[e+4]-o[e+2])*(o[e+4]-o[e+2])+(o[e+5]-o[e+3])*(o[e+5]-o[e+3])),A=Math.sqrt((o[e+4]+o[e+2])*(o[e+4]+o[e+2])+(o[e+5]+o[e+3])*(o[e+5]+o[e+3]))/2,x=.1*Math.log(1+A)/(1+Math.sqrt(v)),k=o[e+0]+o[e+2]*(x/t.slowDown),o[e+0]=k,y=o[e+1]+o[e+3]*(x/t.slowDown),o[e+1]=y);else for(e=0;e<H;e+=a)1!==o[e+9]&&(v=o[e+6]*Math.sqrt((o[e+4]-o[e+2])*(o[e+4]-o[e+2])+(o[e+5]-o[e+3])*(o[e+5]-o[e+3])),A=Math.sqrt((o[e+4]+o[e+2])*(o[e+4]+o[e+2])+(o[e+5]+o[e+3])*(o[e+5]+o[e+3]))/2,x=o[e+7]*Math.log(1+A)/(1+Math.sqrt(v)),o[e+7]=Math.min(1,Math.sqrt(x*(Math.pow(o[e+2],2)+Math.pow(o[e+3],2))/(1+Math.sqrt(v)))),k=o[e+0]+o[e+2]*(x/t.slowDown),o[e+0]=k,y=o[e+1]+o[e+3]*(x/t.slowDown),o[e+1]=y);return{}};var i=r.exports;self.addEventListener("message",(function(a){var r=a.data;t=new Float32Array(r.nodes),r.edges&&(o=new Float32Array(r.edges)),i(r.settings,t,o),self.postMessage({nodes:t.buffer},[t.buffer])}))};
//# sourceMappingURL=/sm/1265d7283b4ef1f0c838dd1b9fdff7d08cf49de0cd5dad676e8efea2ed8e8e90.map